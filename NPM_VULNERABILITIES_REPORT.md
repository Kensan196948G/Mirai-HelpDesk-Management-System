# npm è„†å¼±æ€§ãƒ¬ãƒãƒ¼ãƒˆ

**èª¿æŸ»æ—¥æ™‚**: 2026å¹´2æœˆ14æ—¥
**å¯¾è±¡**: Mirai HelpDesk Management System

---

## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (backend/)

### æ¤œå‡ºã•ã‚ŒãŸè„†å¼±æ€§: 5ä»¶

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | é‡è¦åº¦ | å½±éŸ¿ | ä¿®æ­£æ–¹æ³• |
|-----------|--------|------|---------|
| **axios** | HIGH | DoSæ”»æ’ƒã®å¯èƒ½æ€§ | `npm install axios@latest` |
| **nodemailer** | HIGH | æ„å›³ã—ãªã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€DoS | `npm install nodemailer@8.0.1` (Breaking change) |
| **tar** | HIGH (3ä»¶) | ä»»æ„ãƒ•ã‚¡ã‚¤ãƒ«ä¸Šæ›¸ãã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯æ±šæŸ“ã€ãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ« | `npm update tar` |
| **cookie** | LOW | - | csurfã®ä¾å­˜é–¢ä¿‚ï¼ˆé–“æ¥çš„ï¼‰ |
| **@mapbox/node-pre-gyp** | HIGH | tarã«ä¾å­˜ | tarã®æ›´æ–°ã§è§£æ±º |

### æ¨å¥¨å¯¾å¿œ

#### å³æ™‚å¯¾å¿œå¯èƒ½ï¼ˆéç ´å£Šçš„å¤‰æ›´ï¼‰:
```bash
cd backend
npm update tar
npm update axios
```

#### æ…é‡ãªå¯¾å¿œãŒå¿…è¦ï¼ˆç ´å£Šçš„å¤‰æ›´ï¼‰:
```bash
# nodemailer 6.x â†’ 8.x ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
# æ³¨æ„: APIãŒå¤‰æ›´ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆãŒå¿…è¦
npm install nodemailer@8.0.1
```

**å½±éŸ¿ç¯„å›²**:
- `backend/src/services/email.service.ts` - ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½
- å‹•ä½œç¢ºèªãŒå¿…è¦

#### csurfã®è­¦å‘Š:
- csurfãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯éæ¨å¥¨ï¼ˆarchivedï¼‰
- ä»£æ›¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸: `csrf-csrf`ã€`@edge-csrf/core`
- ç¾æ™‚ç‚¹ã§ã¯å‹•ä½œã™ã‚‹ãŒã€å°†æ¥çš„ãªç§»è¡Œã‚’æ¨å¥¨

---

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (frontend/)

### æ¤œå‡ºã•ã‚ŒãŸè„†å¼±æ€§: 6ä»¶ï¼ˆã™ã¹ã¦MODERATEï¼‰

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | é‡è¦åº¦ | å½±éŸ¿ | ä¿®æ­£æ–¹æ³• |
|-----------|--------|------|---------|
| **esbuild** | MODERATE | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¸ã®ä¸æ­£ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | `npm audit fix --force` |
| **vite** | MODERATE | esbuildã«ä¾å­˜ | Vite 7.x ã¸ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ï¼ˆBreaking changeï¼‰ |
| **vite-node** | MODERATE | viteã«ä¾å­˜ | - |
| **vitest** | MODERATE | viteã€vite-nodeã«ä¾å­˜ | - |
| **@vitest/coverage-v8** | MODERATE | vitestã«ä¾å­˜ | - |
| **@vitest/ui** | MODERATE | vitestã«ä¾å­˜ | - |

### æ¨å¥¨å¯¾å¿œ

#### é–‹ç™ºç’°å¢ƒã®ã¿ã®å½±éŸ¿:
ã“ã‚Œã‚‰ã®è„†å¼±æ€§ã¯**é–‹ç™ºã‚µãƒ¼ãƒãƒ¼**ã«ã®ã¿å½±éŸ¿ã—ã€**æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“**ã€‚

#### ä¿®æ­£æ–¹æ³•ï¼ˆBreaking changeså«ã‚€ï¼‰:
```bash
cd frontend
npm audit fix --force
```

**æ³¨æ„**: Vite 7.xã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã¯Breaking changeã‚’å«ã‚€ãŸã‚ã€ä»¥ä¸‹ã®ç¢ºèªãŒå¿…è¦:
- ãƒ“ãƒ«ãƒ‰è¨­å®šã®äº’æ›æ€§ç¢ºèª
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®äº’æ›æ€§ç¢ºèª
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®å‹•ä½œç¢ºèª

---

## æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³

### Phase 1: å³æ™‚å¯¾å¿œï¼ˆéç ´å£Šçš„ï¼‰

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
cd backend
npm update tar
npm update axios

# ç¢ºèª
npm audit
```

### Phase 2: æ…é‡ãªå¯¾å¿œï¼ˆç ´å£Šçš„å¤‰æ›´ï¼‰

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: nodemaileræ›´æ–°
```bash
cd backend
npm install nodemailer@8.0.1

# ãƒ¡ãƒ¼ãƒ«é€ä¿¡æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
npm run test:email  # ã¾ãŸã¯æ‰‹å‹•ãƒ†ã‚¹ãƒˆ
```

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- ãƒã‚±ãƒƒãƒˆä½œæˆæ™‚ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ«
- SLAæœŸé™è¶…éã‚¢ãƒ©ãƒ¼ãƒˆ
- æ‰¿èªä¾é ¼ãƒ¡ãƒ¼ãƒ«
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Viteæ›´æ–°
```bash
cd frontend
npm audit fix --force

# ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆ
npm run build
npm run dev  # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ç¢ºèª
npm run test
```

**ç¢ºèªé …ç›®**:
- ãƒ“ãƒ«ãƒ‰ãŒæ­£å¸¸ã«å®Œäº†ã™ã‚‹ã“ã¨
- é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã™ã‚‹ã“ã¨
- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒæ©Ÿèƒ½ã™ã‚‹ã“ã¨
- ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨

### Phase 3: csurfã®ä»£æ›¿æ¤œè¨ï¼ˆé•·æœŸï¼‰

```bash
# ä»£æ›¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è©•ä¾¡
npm install csrf-csrf
# ã¾ãŸã¯
npm install @edge-csrf/core
```

**ç§»è¡Œä½œæ¥­**:
- `backend/src/middleware/csrf.ts` ã®æ›¸ãæ›ãˆ
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®CSRFãƒˆãƒ¼ã‚¯ãƒ³å–å¾—ãƒ­ã‚¸ãƒƒã‚¯ã®èª¿æ•´

---

## ãƒªã‚¹ã‚¯è©•ä¾¡

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ« | æœ¬ç•ªç’°å¢ƒã¸ã®å½±éŸ¿ | å„ªå…ˆåº¦ |
|-----------|------------|---------------|-------|
| axios | ğŸ”´ HIGH | DoSæ”»æ’ƒã®å¯èƒ½æ€§ã‚ã‚Š | å³æ™‚å¯¾å¿œ |
| nodemailer | ğŸŸ  MEDIUM | ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã®è„†å¼±æ€§ | 1é€±é–“ä»¥å†… |
| tar | ğŸŸ¡ LOW | ç›´æ¥çš„ãªå½±éŸ¿ã¯ä½ã„ï¼ˆé–‹ç™º/ãƒ“ãƒ«ãƒ‰æ™‚ã®ã¿ï¼‰ | 1é€±é–“ä»¥å†… |
| csurf | ğŸŸ¡ LOW | éæ¨å¥¨ã ãŒå‹•ä½œã¯æ­£å¸¸ | é•·æœŸè¨ˆç”» |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ | ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ« | æœ¬ç•ªç’°å¢ƒã¸ã®å½±éŸ¿ | å„ªå…ˆåº¦ |
|-----------|------------|---------------|-------|
| esbuild/vite | ğŸŸ¡ LOW | é–‹ç™ºç’°å¢ƒã®ã¿ã€æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã«ã¯å½±éŸ¿ãªã— | 1ãƒ¶æœˆä»¥å†… |

---

## å®Ÿæ–½è¨˜éŒ²

| æ—¥ä»˜ | å¯¾å¿œå†…å®¹ | çµæœ | æ‹…å½“è€… |
|------|---------|------|-------|
| 2026-02-14 | è„†å¼±æ€§èª¿æŸ»å®Ÿæ–½ | 5ä»¶ï¼ˆBackendï¼‰ã€6ä»¶ï¼ˆFrontendï¼‰æ¤œå‡º | Claude Agent |
| - | - | - | - |
| - | - | - | - |

---

## ä»Šå¾Œã®æ–¹é‡

### å®šæœŸçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
```bash
# é€±æ¬¡ã¾ãŸã¯æœˆæ¬¡ã§å®Ÿè¡Œ
npm audit
npm outdated
```

### CI/CDã¸ã®çµ±åˆ
```yaml
# .github/workflows/security-audit.yml
name: Security Audit
on:
  schedule:
    - cron: '0 0 * * 1'  # æ¯é€±æœˆæ›œæ—¥
  push:
    branches: [main, master]

jobs:
  audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: cd backend && npm audit
      - run: cd frontend && npm audit
```

### Dependabotè¨­å®š
```yaml
# .github/dependabot.yml
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/backend"
    schedule:
      interval: "weekly"
  - package-ecosystem: "npm"
    directory: "/frontend"
    schedule:
      interval: "weekly"
```

---

**ãƒ¬ãƒãƒ¼ãƒˆä½œæˆæ—¥**: 2026å¹´2æœˆ14æ—¥
**æ¬¡å›ç›£æŸ»æ¨å¥¨æ—¥**: 2026å¹´2æœˆ21æ—¥ï¼ˆ1é€±é–“å¾Œï¼‰
