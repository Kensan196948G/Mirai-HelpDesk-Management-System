# Mirai HelpDesk Management System - FAQ（よくある質問）

**最終更新**: 2026-01-20

---

## 🔍 一般的な質問

### Q1: Mirai HelpDeskとは何ですか？
**A**: 社内IT部門向けのヘルプデスク管理システムです。インシデント、サービス要求、Microsoft 365運用を統合管理し、適切な監査証跡と承認ワークフローを提供します。

### Q2: どのような問題を解決できますか？
**A**: 以下のような問題に対応できます:
- パスワードリセット、アカウントロック解除
- Microsoft 365ライセンス付与・剥奪
- メールボックス権限設定
- Teamsチーム作成・管理
- PC・ソフトウェアのトラブルシューティング
- ネットワーク・VPN接続問題

### Q3: 誰が使えますか？
**A**: 6つのロール（役割）に分かれています:
- **Requester（依頼者）**: 一般社員 - チケット起票
- **Agent**: ヘルプデスク担当 - トリアージ、対応
- **M365 Operator**: 特権作業者 - M365操作実施
- **Approver**: 承認者 - 権限付与等の承認
- **Manager**: 運用管理者 - SLA管理、レポート閲覧
- **Auditor**: 監査閲覧 - 監査ログ閲覧専用

---

## 🎫 チケットに関する質問

### Q4: チケットを作成するには？
**A**:
1. http://192.168.0.187:8080 にアクセス
2. ログイン（メールアドレスとパスワード）
3. 「チケット作成」ボタンをクリック
4. 件名、説明、種別、カテゴリを入力
5. 「作成」をクリック

詳細: [チケット起票ガイド](../01_エンドユーザー向け/チケット起票ガイド.md)

### Q5: チケットの種別とは？
**A**: 3種類あります:
- **Incident（インシデント）**: システム障害、不具合
- **Service Request（サービス要求）**: アカウント作成、権限付与
- **M365 Request（M365要求）**: Microsoft 365の設定変更

### Q6: 優先度はどう決まりますか？
**A**: Impact（影響度）× Urgency（緊急度）で自動計算されます:
- **P1（クリティカル）**: 全社停止レベル → 15分応答、24時間解決
- **P2（高）**: 部門影響 → 1時間応答、8時間解決
- **P3（中）**: 個人影響 → 4時間応答、24時間解決
- **P4（低）**: 問い合わせ → 8時間応答、40時間解決

### Q7: チケットのステータスとは？
**A**: チケットは以下のステータスで進行します:
```
New（新規）
  ↓
Triage（振り分け）
  ↓
Assigned（担当割当）
  ↓
In Progress（対応中）
  ↓
Resolved（解決済み）← 利用者確認待ち
  ↓
Closed（完了）
```

### Q8: Resolved（解決済み）とClosed（完了）の違いは？
**A**:
- **Resolved**: ヘルプデスクが対応完了し、利用者の確認待ち
- **Closed**: 利用者が確認して完了、または一定期間経過後に自動クローズ

---

## 🔐 M365操作に関する質問

### Q9: M365の権限付与をリクエストするには？
**A**:
1. チケット種別で「M365 Request」を選択
2. カテゴリで「License」または「Account」を選択
3. 説明欄に詳細を記載（誰に、どの権限を、なぜ必要か）
4. チケット作成後、承認フローが自動的に開始されます

### Q10: なぜM365操作には承認が必要ですか？
**A**: SOD（職務分離）原則により、以下を防ぐためです:
- 不正なアクセス権限の付与
- 自己承認の禁止
- 監査証跡の確保

同一チケットにおいて:
- 承認者 ≠ 実施者（M365 Operator）
- 実施者 ≠ 最終承認者

### Q11: M365操作の実施ログとは？
**A**: すべてのM365操作には以下の記録が必須です:
- 誰が（operator_id）
- いつ（created_at）
- 何を（task_type、target_upn）
- どのように（method: 管理センター/PowerShell/Graph API）
- 結果（成功/失敗と詳細）
- エビデンス（スクリーンショットまたはコマンド出力）

---

## 🛠 技術的な質問

### Q12: 開発環境と本番環境の違いは？
**A**:

| 項目 | 開発環境 | 本番環境 |
|------|---------|---------|
| URL | http://192.168.0.187:8080 | https://192.168.0.187 |
| ポート | 8000 (API), 8080 (UI) | 8443 (API), 443 (UI) |
| プロトコル | HTTP | HTTPS |
| サンプルデータ | あり（豊富） | なし |
| デバッグモード | 有効 | 無効 |
| API Docs | 有効 | 無効 |
| ログレベル | DEBUG | WARNING |

### Q13: 自動起動設定はどうすれば？
**A**:

**Windows（タスクスケジューラ）:**
```powershell
.\scripts\windows\install-autostart.ps1 -Environment development
```

**Linux（systemd）:**
```bash
sudo ./scripts/linux/services/install-services.sh
sudo systemctl enable mirai-dev-backend
```

### Q14: SSLエラーが表示されます
**A**: 自己署名証明書を使用しているため、ブラウザで警告が表示されます:
1. 「詳細設定」をクリック
2. 「安全でないサイトに進む」をクリック

**本番運用では正式なSSL証明書の使用を推奨します。**

### Q15: テストはどう実行しますか？
**A**:

**Pythonユニットテスト:**
```bash
cd backend
.venv-win/Scripts/pytest.exe tests/ -v
```

**E2Eテスト:**
```bash
npm run test:e2e
```

---

## 📊 運用に関する質問

### Q16: SLA（サービスレベル合意）とは？
**A**: 優先度別の対応時間目標です:
- **P1**: 15分以内に初動、24時間以内に解決
- **P2**: 1時間以内に初動、8時間以内に解決
- **P3**: 4時間以内に初動、24時間以内に解決
- **P4**: 8時間以内に初動、40時間以内に解決

### Q17: SLA違反するとどうなりますか？
**A**:
- 自動的にManagerにエスカレーション通知
- ダッシュボードで赤色警告表示
- 月次レポートで違反件数を集計

### Q18: 監査ログはどこで確認できますか？
**A**:
- **Manager/Auditor**: 監査ログ画面で全操作を確認
- **API**: `GET /api/audit/logs`
- **エクスポート**: CSV/JSON形式でダウンロード可能

---

## 🔧 トラブルシューティング

### Q19: サーバーが起動しない
**A**: 以下を確認してください:
1. ポート8000/8080が他のプロセスで使用されていないか
2. Python仮想環境が正しくアクティベートされているか
3. 依存関係がインストールされているか（`pip install -r requirements.txt`）
4. データベースファイルへの書き込み権限があるか

### Q20: APIが404エラーを返す
**A**:
- バックエンドが起動しているか確認: http://192.168.0.187:8000/health
- API Docsで正しいエンドポイントを確認: http://192.168.0.187:8000/api/docs

---

## 📚 もっと詳しく知りたい

### ドキュメント全体を見る
👉 [マスターインデックス](./MASTER_INDEX.md)

### 開発を始める
👉 [開発環境セットアップ](../03_開発者向け/開発環境セットアップ.md)

### 運用方法を知る
👉 [運用マニュアル](../02_Agent・管理者向け/運用マニュアル.md)

---

**更新履歴**
- 2026-01-20: 初版作成
