# ğŸ”„ å·¥ç¨‹ç®¡ç†SubAgent - äº‹æ•…ã‚‰ãªã„é–‹ç™ºãƒ¬ãƒ¼ãƒ³

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€**å·¥ç¨‹ç®¡ç†åˆ¥ã®7ã¤ã®SubAgent**ã¨**è‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆ**ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ¯ ç›®çš„

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€

* **äººã®ãƒŸã‚¹ã‚’å‰æ**ã«
* **AI ã«é–¢æ‰€ã‚’ã‚„ã‚‰ã›**
* **ãƒ­ã‚°ã‚’æ®‹ã—**
* **ç›£æŸ»ã«è€ãˆ**
* **å°†æ¥ã®è‡ªåˆ†ã‚’åŠ©ã‘ã‚‹**

ãŸã‚ã®**"äº‹æ•…ã‚‰ãªã„é–‹ç™ºç’°å¢ƒ"**ã§ã™ã€‚

---

## ğŸ§  å·¥ç¨‹ç®¡ç†SubAgent 7ä½“

### å®Ÿè¡Œé †åºï¼ˆå¿…é ˆï¼‰

```
1. spec-planner        ï¼ˆè¦ä»¶å®šç¾©ï¼‰
        â†“
2. arch-reviewer       ï¼ˆè¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
        â†“
3. code-implementer    ï¼ˆå®Ÿè£…ï¼‰
        â†“
4. code-reviewer       ï¼ˆã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼‰â˜…
        â†“
5. test-designer       ï¼ˆãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼‰
        â†“
6. test-reviewer       ï¼ˆãƒ†ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼‰â˜…
        â†“
7. ci-specialist       ï¼ˆCI/ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šï¼‰â˜…
```

**â˜… = è‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼ˆPASS/FAIL/PASS_WITH_WARNINGSåˆ¤å®šï¼‰**

---

## ğŸ“‹ å„Agentè©³ç´°

### 1. spec-plannerï¼ˆè¦ä»¶ãƒ»é‹ç”¨å®šç¾©ï¼‰

**è²¬å‹™**:
- ç›®çš„ãƒ»ã‚¹ã‚³ãƒ¼ãƒ—ãƒ»KGI/KPI ã‚’æ˜ç¢ºåŒ–
- æ©Ÿèƒ½è¦ä»¶ / éæ©Ÿèƒ½è¦ä»¶ã‚’å®šç¾©
- ITSM / ISO20000 / ISO27001 è¦³ç‚¹ã‚’åæ˜ 

**æˆæœç‰©**:
- `specs/overview.md`
- `specs/requirements.md`
- `specs/kpi-kgi.md`
- `specs/compliance.md`

**å®Œäº†æ¡ä»¶**:
- å…¨ã¦ã®å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- æ¸¬å®šå¯èƒ½ãªKPIãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- SODåŸå‰‡ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**: â†’ arch-reviewerï¼ˆè‡ªå‹•èµ·å‹•ï¼‰

---

### 2. arch-reviewerï¼ˆè¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰

**è²¬å‹™**:
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¦¥å½“æ€§æ¤œè¨¼
- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ / æ¨©é™ãƒ¢ãƒ‡ãƒ«æ¤œè¨¼
- å°†æ¥æ‹¡å¼µæ€§ãƒ»å˜ä¸€éšœå®³ç‚¹ãƒ»SoD ãƒã‚§ãƒƒã‚¯

**æˆæœç‰©**:
- `design/architecture.md`
- `design/security.md`
- `design/data-model.md`
- `design/api-spec.md`
- `reviews/arch-review-YYYYMMDD.json` â˜…

**ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹**:
- ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢
- å˜ä¸€éšœå®³ç‚¹ï¼ˆSPOFï¼‰
- SODåŸå‰‡
- ç›£æŸ»è¨¼è·¡è¨­è¨ˆ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

**åˆ¤å®š**:
- **PASS**: code-implementer ã¸è‡ªå‹•é€²è¡Œ
- **FAIL**: spec-planner ã¸å·®ã—æˆ»ã—
- **PASS_WITH_WARNINGS**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªå¾Œã«é€²è¡Œ

---

### 3. code-implementerï¼ˆå®Ÿè£…ï¼‰

**è²¬å‹™**:
- è¨­è¨ˆæ›¸ã«åŸºã¥ãå®Ÿè£…
- ä»•æ§˜å¤–å®Ÿè£…ã®ç¦æ­¢
- ãƒ­ã‚°ãƒ»ä¾‹å¤–å‡¦ç†ãƒ»è¨­å®šå¤–å‡ºã—ã®å¿…é ˆåŒ–

**æˆæœç‰©**:
- `src/**/*.js`
- å®Ÿè£…å®Œäº†å ±å‘Š

**å³æ ¼ãƒ«ãƒ¼ãƒ«**:
- âŒ ä»•æ§˜å¤–å®Ÿè£…ã®ç¦æ­¢
- âŒ ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ç¦æ­¢
- âŒ ã‚¨ãƒ©ãƒ¼å‡¦ç†ãªã—ã®ã‚³ãƒ¼ãƒ‰ç¦æ­¢
- âŒ ãƒ­ã‚°ãªã—ã®é‡è¦å‡¦ç†ç¦æ­¢

**å¿…é ˆå®Ÿè£…é …ç›®**:
- å…¨ã¦ã®éåŒæœŸå‡¦ç†ã«try/catch
- é‡è¦æ“ä½œã«æˆåŠŸ/å¤±æ•—ãƒ­ã‚°
- ç’°å¢ƒå¤‰æ•°ã¾ãŸã¯ config/ ã‹ã‚‰è¨­å®šå€¤å–å¾—
- èªè¨¼ãƒ»æ‰¿èªãƒ»M365æ“ä½œã«ç›£æŸ»ãƒ­ã‚°

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**: â†’ code-reviewerï¼ˆè‡ªå‹•èµ·å‹•ï¼‰

---

### 4. code-reviewerï¼ˆè‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼‰â˜…

**è²¬å‹™**:
- ä»•æ§˜ãƒ»è¨­è¨ˆãƒ»é‹ç”¨è¦ä»¶æº–æ‹ ãƒã‚§ãƒƒã‚¯
- ä¾‹å¤–å‡¦ç†ãƒ»ãƒ­ã‚°ãƒ»æ¨©é™ãƒ»å°†æ¥è€æ€§ãƒã‚§ãƒƒã‚¯
- æ©Ÿæ¢°åˆ¤å®šå¯èƒ½ãªã‚²ãƒ¼ãƒˆçµæœå‡ºåŠ›

**æˆæœç‰©**:
- `reviews/code-review-YYYYMMDD-feature-xxx.json` â˜…

**ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹**:

| ã‚«ãƒ†ã‚´ãƒª | é‡è¦åº¦ | ãƒã‚§ãƒƒã‚¯é …ç›® |
|---------|--------|-------------|
| **ä»•æ§˜æº–æ‹ ** | Critical | å…¥å‡ºåŠ›ä»•æ§˜ã€è¦ä»¶ç¶²ç¾…æ€§ã€ä»•æ§˜å¤–å®Ÿè£… |
| **ä¾‹å¤–å‡¦ç†** | Critical | try/catchç¶²ç¾…ã€ç•°å¸¸çµ‚äº†é˜²æ­¢ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° |
| **ãƒ­ã‚°ãƒ»ç›£æŸ»** | Critical | æˆåŠŸ/å¤±æ•—ãƒ­ã‚°ã€ç›£æŸ»è¨¼è·¡ã€è¿½è¨˜å°‚ç”¨ä¿è­· |
| **æ¨©é™ãƒ»SOD** | Critical | æ¨©é™ãƒã‚§ãƒƒã‚¯ã€SODåŸå‰‡ã€ç®¡ç†ç³»åˆ¶é™ |
| **è¨­å®šå¤–å‡ºã—** | High | ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã€ç’°å¢ƒå¤‰æ•° |
| **å°†æ¥è€æ€§** | Medium | é­”æ³•ã®æ•°å€¤ã€ä¾å­˜æ³¨å…¥ã€ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ |

**åˆ¤å®šãƒ«ãƒ¼ãƒ«**:
```
FAIL:                   blocking_issues > 0
PASS_WITH_WARNINGS:     blocking_issues == 0 AND warnings > 0
PASS:                   blocking_issues == 0 AND warnings == 0
```

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**:
- **FAIL**: â†’ code-implementer ã¸è‡ªå‹•å·®ã—æˆ»ã—
- **PASS_WITH_WARNINGS**: â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª â†’ test-designer
- **PASS**: â†’ test-designer ã¸è‡ªå‹•é€²è¡Œ

---

### 5. test-designerï¼ˆãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼‰

**è²¬å‹™**:
- æ­£å¸¸ç³» / ç•°å¸¸ç³» / å¢ƒç•Œå€¤ / æ¨©é™ç³»ãƒ†ã‚¹ãƒˆå®šç¾©
- ç›£æŸ»ãƒ»è¨¼è·¡è¦³ç‚¹ã®ãƒ†ã‚¹ãƒˆå®šç¾©

**æˆæœç‰©**:
- `tests/test-cases.md`
- `tests/unit/**/*.test.js`
- `tests/integration/**/*.test.js`
- `tests/e2e/**/*.spec.js`

**å¿…é ˆãƒ†ã‚¹ãƒˆé …ç›®**:
- æ‰¿èªãƒ•ãƒ­ãƒ¼ï¼ˆæ­£å¸¸æ‰¿èªã€å´ä¸‹ã€SODé•åæ¤œå‡ºï¼‰
- M365æ“ä½œï¼ˆæ‰¿èªæ¸ˆã¿å®Ÿè¡Œã€æœªæ‰¿èªãƒ–ãƒ­ãƒƒã‚¯ã€å®Ÿæ–½ãƒ­ã‚°è¨˜éŒ²ï¼‰
- ç›£æŸ»ãƒ­ã‚°ï¼ˆè‡ªå‹•è¨˜éŒ²ã€å‰Šé™¤ä¸å¯ã€æ”¹ã–ã‚“é˜²æ­¢ï¼‰
- æ¨©é™ï¼ˆå„ãƒ­ãƒ¼ãƒ«ãŒã§ãã‚‹ã“ã¨/ã§ããªã„ã“ã¨ï¼‰
- SLAè¨ˆç®—ï¼ˆå„ªå…ˆåº¦è¨ˆç®—ã€æœŸé™è¨ˆç®—ã€è¶…éæ¤œå‡ºï¼‰

**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**:
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: 80%
- çµ±åˆãƒ†ã‚¹ãƒˆ: 70%
- E2Eãƒ†ã‚¹ãƒˆ: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹100%

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**: â†’ test-reviewerï¼ˆè‡ªå‹•èµ·å‹•ï¼‰

---

### 6. test-reviewerï¼ˆãƒ†ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼‰â˜…

**è²¬å‹™**:
- ãƒ†ã‚¹ãƒˆç¶²ç¾…æ€§ãƒ¬ãƒ“ãƒ¥ãƒ¼
- é‡è¦æ©Ÿèƒ½ãƒ»ç•°å¸¸ç³»æŠœã‘æ¼ã‚Œæ¤œå‡º

**æˆæœç‰©**:
- `reviews/test-review-YYYYMMDD.json` â˜…

**ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹**:
- ã‚«ãƒãƒ¬ãƒƒã‚¸åˆ†æï¼ˆæœ€ä½60%ã€ç›®æ¨™80%ï¼‰
- é‡è¦æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆå­˜åœ¨ç¢ºèª
- ç•°å¸¸ç³»ãƒ»å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆç¢ºèª
- RBAC ãƒ†ã‚¹ãƒˆç¢ºèª
- ç›£æŸ»è¨¼è·¡ãƒ†ã‚¹ãƒˆç¢ºèª

**åˆ¤å®šãƒ«ãƒ¼ãƒ«**:
```
FAIL:                   blocking_issues > 0 OR coverage < threshold(60%)
PASS_WITH_WARNINGS:     blocking_issues == 0 AND (warnings > 0 OR coverage < target(80%))
PASS:                   blocking_issues == 0 AND warnings == 0 AND coverage >= target
```

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**:
- **FAIL**: â†’ test-designer ã¸è‡ªå‹•å·®ã—æˆ»ã—
- **PASS_WITH_WARNINGS**: â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª â†’ ci-specialist
- **PASS**: â†’ ci-specialist ã¸è‡ªå‹•é€²è¡Œ

---

### 7. ci-specialistï¼ˆCI / ãƒªãƒªãƒ¼ã‚¹ï¼‰

**è²¬å‹™**:
- è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œè¨­è¨ˆ
- ãƒ“ãƒ«ãƒ‰ / ãƒªãƒªãƒ¼ã‚¹ / ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­è¨ˆ
- å“è³ªã‚²ãƒ¼ãƒˆçµæœã«åŸºã¥ã GO / NO-GO åˆ¤å®š

**æˆæœç‰©**:
- `ci/pipeline.md`
- `ci/release-checklist.md`
- `ci/rollback-procedure.md`
- `ci/gate-result-YYYYMMDD.json` â˜…

**ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¸**:
1. ãƒ“ãƒ«ãƒ‰
2. é™çš„è§£æï¼ˆESLint/Prettierï¼‰
3. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸â‰¥60%ï¼‰
4. çµ±åˆãƒ†ã‚¹ãƒˆ
5. E2Eãƒ†ã‚¹ãƒˆï¼ˆã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ï¼‰
6. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆnpm auditï¼‰
7. å“è³ªã‚²ãƒ¼ãƒˆåˆ¤å®š

**GO/NO-GOåˆ¤å®š**:

**GOæ¡ä»¶**:
- âœ… å…¨ã‚¹ãƒ†ãƒ¼ã‚¸PASS
- âœ… code-review == PASS or PASS_WITH_WARNINGS
- âœ… test-review == PASS or PASS_WITH_WARNINGS
- âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 60%
- âœ… critical/highè„†å¼±æ€§ãªã—

**NO-GOæ¡ä»¶**:
- âŒ ã„ãšã‚Œã‹ã®ã‚¹ãƒ†ãƒ¼ã‚¸FAIL
- âŒ code-review == FAIL
- âŒ test-review == FAIL
- âŒ criticalè„†å¼±æ€§ã‚ã‚Š

**ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š**:
- **GO**: æ‰‹å‹•æ‰¿èª â†’ ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ
- **NO-GO**: ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ â†’ ä¿®æ­£å¿…é ˆ

---

## ğŸ”„ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ãƒ­ãƒ¼å›³

```mermaid
graph TD
    A[ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚] --> B[spec-planner]
    B -->|å®Œäº†| C[arch-reviewer]
    C -->|PASS| D[code-implementer]
    C -->|FAIL| B
    D -->|å®Œäº†| E[code-reviewer â˜…]
    E -->|PASS| F[test-designer]
    E -->|FAIL| D
    E -->|PASS_WITH_WARNINGS| U1{ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª}
    U1 -->|OK| F
    U1 -->|NG| D
    F -->|å®Œäº†| G[test-reviewer â˜…]
    G -->|PASS| H[ci-specialist]
    G -->|FAIL| F
    G -->|PASS_WITH_WARNINGS| U2{ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª}
    U2 -->|OK| H
    U2 -->|NG| F
    H -->|GO| I[ãƒªãƒªãƒ¼ã‚¹æ‰¿èªå¾…ã¡]
    H -->|NO-GO| J[ãƒ–ãƒ­ãƒƒã‚¯]
    I --> K[ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ]
    J --> B
```

---

## ğŸª Hooksé€£æºãƒ«ãƒ¼ãƒ«

### â‘  on-spec-complete
```
WHEN: spec-planner ãŒæˆæœç‰©ã‚’å‡ºåŠ›
THEN: arch-reviewer ã‚’è‡ªå‹•èµ·å‹•ï¼ˆspecs/* ã‚’å…¥åŠ›ï¼‰
```

### â‘¡ on-arch-approved
```
WHEN: arch-reviewer ãŒ PASS ã‚’è¿”å´
THEN: code-implementer ã‚’èµ·å‹•ï¼ˆdesign/* ã‚’å…¥åŠ›ï¼‰
```

### â‘¢ on-implementation-complete
```
WHEN: code-implementer ãŒã€Œå®Ÿè£…å®Œäº†ã€ã¨å®£è¨€
THEN: code-reviewer ã‚’è‡ªå‹•èµ·å‹•ï¼ˆå¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«/specs/design ã‚’æ¸¡ã™ï¼‰
```

### â‘£ on-code-review-result
```
IF result == FAIL:
  â†’ code-implementer ã«è‡ªå‹•å·®ã—æˆ»ã—

IF result == PASS_WITH_WARNINGS:
  â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥ â†’ æ‰¿èªå¾Œã«test-designerèµ·å‹•

IF result == PASS:
  â†’ test-designer ã‚’è‡ªå‹•èµ·å‹•
```

### â‘¤ on-test-design-complete
```
WHEN: test-designer ãŒæˆæœç‰©ã‚’å‡ºåŠ›
THEN: test-reviewer ã‚’è‡ªå‹•èµ·å‹•
```

### â‘¥ on-test-review-result
```
IF result == FAIL:
  â†’ test-designer ã«å·®ã—æˆ»ã—

IF result == PASS:
  â†’ ci-specialist ã‚’è‡ªå‹•èµ·å‹•
```

### â‘¦ on-release-decision
```
IF decision == GO:
  â†’ æ‰‹å‹•æ‰¿èªå¾…ã¡ â†’ ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ

IF decision == NO-GO:
  â†’ ãƒªãƒªãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ â†’ ä¿®æ­£å¿…é ˆ
```

---

## ğŸ”’ ä¸¦åˆ—é–‹ç™ºãƒ«ãƒ¼ãƒ«ï¼ˆã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆé˜²æ­¢ï¼‰

### æ©Ÿèƒ½é ˜åŸŸåˆ¥ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€£æº

```
code-implementerï¼ˆå·¥ç¨‹ç®¡ç†ï¼‰
    â”œâ”€ agent-6-databaseï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
    â”œâ”€ agent-2-backend-modelsï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
    â”œâ”€ agent-1-backend-apiï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
    â”œâ”€ agent-4-frontend-componentsï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
    â”œâ”€ agent-5-frontend-servicesï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
    â””â”€ agent-3-frontend-pagesï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
```

**ãƒ«ãƒ¼ãƒ«**:
- å„ functional agent ã¯ **1ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã®ã¿** ã‚’æ‹…å½“
- åŒä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®åŒæ™‚æ›¸ãè¾¼ã¿ã¯ç¦æ­¢
- å…±æœ‰è¨­å®šã¯ `config/*` ã«é›†ç´„
- ç«¶åˆç™ºç”Ÿæ™‚ã¯ `spec-planner` ã«å¼·åˆ¶ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

---

## ğŸ›‚ è‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆè©³ç´°

### code-reviewer ã‚²ãƒ¼ãƒˆ

#### ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

```yaml
ä»•æ§˜æº–æ‹ :
  - å…¥å‡ºåŠ›ãŒä»•æ§˜ã©ãŠã‚Šã‹
  - è¦ä»¶æŠœã‘ãŒãªã„ã‹
  - ä»•æ§˜å¤–å®Ÿè£…ãŒãªã„ã‹ï¼ˆç¦æ­¢ï¼‰

ä¾‹å¤–å‡¦ç†:
  - try/catch ãŒã‚ã‚‹ã‹
  - ã‚¨ãƒ©ãƒ¼æ™‚ã«ç•°å¸¸çµ‚äº†ã—ãªã„ã‹
  - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒã‚ã‚‹ã‹

ãƒ­ã‚°ãƒ»è¨¼è·¡:
  - æˆåŠŸãƒ­ã‚°ãŒã‚ã‚‹ã‹
  - å¤±æ•—ãƒ­ã‚°ãŒã‚ã‚‹ã‹
  - èª°ãŒä½•ã‚’ã—ãŸã‹æ®‹ã‚‹ã‹ï¼ˆç›£æŸ»ãƒ­ã‚°ï¼‰
  - è¿½è¨˜å°‚ç”¨ãƒ­ã‚°ã«UPDATE/DELETEãŒãªã„ã‹

æ¨©é™ãƒ»SoD:
  - æ¨©é™ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ã‹
  - æ‰¿èªè€…â‰ å®Ÿæ–½è€…ã®ãƒã‚§ãƒƒã‚¯ãŒã‚ã‚‹ã‹
  - ç®¡ç†ç³»æ“ä½œãŒç„¡åˆ¶é™ã§ãªã„ã‹

å°†æ¥å¤‰æ›´è€æ€§:
  - ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰æ’é™¤
  - è¨­å®šå€¤å¤–å‡ºã—
  - ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£:
  - SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
  - XSSå¯¾ç­–
  - ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ¤œå‡º
  - èªè¨¼ãƒã‚¤ãƒ‘ã‚¹é˜²æ­¢
```

#### ã‚²ãƒ¼ãƒˆå‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```json
{
  "result": "PASS | FAIL | PASS_WITH_WARNINGS",
  "summary": "ç·è©•",
  "blocking_issues": [
    {
      "category": "security",
      "severity": "critical",
      "file": "src/api/controllers/TicketController.js",
      "line": 42,
      "description": "SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®è„†å¼±æ€§",
      "code_snippet": "...",
      "recommendation": "ãƒ—ãƒªãƒšã‚¢ãƒ‰ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨"
    }
  ],
  "warnings": [],
  "approved_files": ["src/models/Ticket.js"],
  "timestamp": "2026-01-24T18:00:00Z"
}
```

#### åˆ¤å®šãƒ«ãƒ¼ãƒ«

```
blocking_issues > 0           â†’ FAIL
blocking_issues = 0 & warnings > 0  â†’ PASS_WITH_WARNINGS
blocking_issues = 0 & warnings = 0  â†’ PASS
```

---

### test-reviewer ã‚²ãƒ¼ãƒˆ

#### ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

```yaml
ã‚«ãƒãƒ¬ãƒƒã‚¸åˆ†æ:
  - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: â‰¥60%ï¼ˆæœ€ä½ï¼‰/ â‰¥80%ï¼ˆç›®æ¨™ï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆ: â‰¥50%ï¼ˆæœ€ä½ï¼‰/ â‰¥70%ï¼ˆç›®æ¨™ï¼‰
  - E2Eãƒ†ã‚¹ãƒˆ: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹100%

é‡è¦æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ:
  - ãƒã‚±ãƒƒãƒˆä½œæˆ
  - æ‰¿èªãƒ•ãƒ­ãƒ¼
  - M365æ“ä½œ
  - ç›£æŸ»ãƒ­ã‚°
  - SLAè¨ˆç®—

ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ:
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - æ¨©é™ã‚¨ãƒ©ãƒ¼
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

RBAC ãƒ†ã‚¹ãƒˆ:
  - å„ãƒ­ãƒ¼ãƒ«ãŒã§ãã‚‹ã“ã¨/ã§ããªã„ã“ã¨
  - æ¨©é™æ˜‡æ ¼è©¦è¡Œã®é˜²æ­¢
```

#### åˆ¤å®šãƒ«ãƒ¼ãƒ«

```
blocking_issues > 0 OR coverage < 60%  â†’ FAIL
blocking_issues = 0 AND warnings > 0   â†’ PASS_WITH_WARNINGS
blocking_issues = 0 AND coverage â‰¥ 80% â†’ PASS
```

---

### ci-specialist ã‚²ãƒ¼ãƒˆ

#### ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¸

```
1. ãƒ“ãƒ«ãƒ‰              â†’ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—
2. é™çš„è§£æ            â†’ ãƒªãƒ³ãƒˆã‚¨ãƒ©ãƒ¼ãªã—
3. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ       â†’ å…¨PASS & ã‚«ãƒãƒ¬ãƒƒã‚¸â‰¥60%
4. çµ±åˆãƒ†ã‚¹ãƒˆ          â†’ å…¨PASS
5. E2Eãƒ†ã‚¹ãƒˆ           â†’ ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹å…¨PASS
6. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³  â†’ critical/highè„†å¼±æ€§ãªã—
7. å“è³ªã‚²ãƒ¼ãƒˆåˆ¤å®š       â†’ å…¨ã‚²ãƒ¼ãƒˆPASS
```

#### GO/NO-GOåˆ¤å®š

**GOæ¡ä»¶**:
- âœ… å…¨ã‚¹ãƒ†ãƒ¼ã‚¸PASS
- âœ… code-review: PASS or PASS_WITH_WARNINGS
- âœ… test-review: PASS or PASS_WITH_WARNINGS

**NO-GOæ¡ä»¶**:
- âŒ ã„ãšã‚Œã‹ã®ã‚¹ãƒ†ãƒ¼ã‚¸FAIL
- âŒ code-review: FAIL
- âŒ test-review: FAIL

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–°æ©Ÿèƒ½é–‹ç™ºãƒ•ãƒ­ãƒ¼

```javascript
// 1. è¦ä»¶å®šç¾©
ã€Œãƒã‚±ãƒƒãƒˆç®¡ç†æ©Ÿèƒ½ã®è¦ä»¶ã‚’å®šç¾©ã—ã¦ãã ã•ã„ã€
â†’ spec-planner ãŒ specs/* ã‚’ä½œæˆ
â†’ è‡ªå‹•çš„ã« arch-reviewer ãŒèµ·å‹•

// 2. è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆè‡ªå‹•ï¼‰
â†’ arch-reviewer ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼
â†’ PASS ã®å ´åˆã€è‡ªå‹•çš„ã« code-implementer ãŒèµ·å‹•

// 3. å®Ÿè£…ï¼ˆè‡ªå‹• + ä¸¦åˆ—ï¼‰
â†’ code-implementer ãŒæ–¹é‡æ±ºå®š
â†’ functional agents (agent-1ï½7) ãŒä¸¦åˆ—å®Ÿè£…
â†’ å®Œäº†å¾Œã€è‡ªå‹•çš„ã« code-reviewer ãŒèµ·å‹•

// 4. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼ˆè‡ªå‹•ï¼‰
â†’ code-reviewer ãŒè‡ªå‹•æ¤œè¨¼
â†’ PASS ã®å ´åˆã€è‡ªå‹•çš„ã« test-designer ãŒèµ·å‹•
â†’ FAIL ã®å ´åˆã€code-implementer ã¸å·®ã—æˆ»ã—

// 5. ãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼ˆè‡ªå‹•ï¼‰
â†’ test-designer ãŒãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
â†’ å®Œäº†å¾Œã€è‡ªå‹•çš„ã« test-reviewer ãŒèµ·å‹•

// 6. ãƒ†ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆï¼ˆè‡ªå‹•ï¼‰
â†’ test-reviewer ãŒã‚«ãƒãƒ¬ãƒƒã‚¸æ¤œè¨¼
â†’ PASS ã®å ´åˆã€è‡ªå‹•çš„ã« ci-specialist ãŒèµ·å‹•

// 7. CI/ãƒªãƒªãƒ¼ã‚¹åˆ¤å®šï¼ˆè‡ªå‹•ï¼‰
â†’ ci-specialist ãŒãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œ
â†’ GO ã®å ´åˆã€ãƒªãƒªãƒ¼ã‚¹æ‰¿èªå¾…ã¡
â†’ NO-GO ã®å ´åˆã€ãƒ–ãƒ­ãƒƒã‚¯
```

### å·®ã—æˆ»ã—ãƒ•ãƒ­ãƒ¼

```
code-reviewer FAIL
    â†“
code-implementer å†å®Ÿè£…
    â†“
code-reviewer å†ãƒ¬ãƒ“ãƒ¥ãƒ¼
    â†“
PASS â†’ test-designer ã¸é€²è¡Œ
```

---

## ğŸ›¡ï¸ çµ¶å¯¾ãƒ«ãƒ¼ãƒ«ï¼ˆé‹ç”¨ãƒãƒªã‚·ãƒ¼ï¼‰

### âŒ ç¦æ­¢äº‹é …

1. **å·¥ç¨‹ã‚¹ã‚­ãƒƒãƒ—ç¦æ­¢**
   - spec â†’ arch â†’ code â†’ review â†’ test â†’ review â†’ ci ã®é †åºå³å®ˆ
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ `[skip-gate:phase-N]` ã‚’æ˜ç¤ºã—ãŸå ´åˆã®ã¿ä¾‹å¤–

2. **Hook ã‚’é€šã‚‰ãªã„é·ç§»ã¯ç¦æ­¢**
   - å…¨ã¦ã®å·¥ç¨‹é·ç§»ã¯ Hooks çµŒç”±

3. **ãƒ¬ãƒ“ãƒ¥ãƒ¼ FAIL ã¯å¿…ãšå·®ã—æˆ»ã™**
   - code-reviewer FAIL â†’ code-implementer ã¸å·®ã—æˆ»ã—
   - test-reviewer FAIL â†’ test-designer ã¸å·®ã—æˆ»ã—

4. **ä»•æ§˜å¤–å®Ÿè£…ã¯ç¦æ­¢**
   - specs/* ã«æ›¸ã„ã¦ã„ãªã„ã“ã¨ã¯å®Ÿè£…ä¸å¯
   - è¿½åŠ æ©Ÿèƒ½ã¯ spec-planner ã‹ã‚‰ã‚„ã‚Šç›´ã—

5. **è¨­è¨ˆã«æ›¸ã„ã¦ã„ãªã„ã“ã¨ã¯æœªå®Ÿè£…æ‰±ã„**
   - design/* ã«æ›¸ã„ã¦ã„ãªã„ã“ã¨ã¯å®Ÿè£…ä¸å¯

---

## ğŸ“Š ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
.claude/workflow-agents/
â”œâ”€â”€ README.md                          # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ 1-spec-planner.json               # è¦ä»¶å®šç¾©Agent
â”œâ”€â”€ 2-arch-reviewer.json              # è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼Agent
â”œâ”€â”€ 3-code-implementer.json           # å®Ÿè£…Agent
â”œâ”€â”€ 4-code-reviewer.json              # ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆAgent â˜…
â”œâ”€â”€ 5-test-designer.json              # ãƒ†ã‚¹ãƒˆè¨­è¨ˆAgent
â”œâ”€â”€ 6-test-reviewer.json              # ãƒ†ã‚¹ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆAgent â˜…
â”œâ”€â”€ 7-ci-specialist.json              # CI/ãƒªãƒªãƒ¼ã‚¹Agent â˜…
â”œâ”€â”€ reviews/                           # ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ
â”‚   â”œâ”€â”€ arch-review-*.json
â”‚   â”œâ”€â”€ code-review-*.json
â”‚   â””â”€â”€ test-review-*.json
â”œâ”€â”€ specs/                             # è¦ä»¶å®šç¾©
â”‚   â”œâ”€â”€ overview.md
â”‚   â”œâ”€â”€ requirements.md
â”‚   â””â”€â”€ compliance.md
â”œâ”€â”€ design/                            # è¨­è¨ˆæ›¸
â”‚   â”œâ”€â”€ architecture.md
â”‚   â”œâ”€â”€ security.md
â”‚   â””â”€â”€ data-model.md
â”œâ”€â”€ logs/                              # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ­ã‚°
â””â”€â”€ reports/                           # é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ
```

---

## ğŸ¯ æ©Ÿèƒ½é ˜åŸŸåˆ¥ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã®é€£æº

### 2å±¤ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹é€ 

```
ã€å·¥ç¨‹ç®¡ç†å±¤ã€‘ï¼ˆã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
spec-planner â†’ arch-reviewer â†’ code-implementer â†’ code-reviewer
â†’ test-designer â†’ test-reviewer â†’ ci-specialist

ã€æ©Ÿèƒ½å®Ÿè£…å±¤ã€‘ï¼ˆ.claude/agents/ï¼‰
agent-6-database, agent-2-backend-models, agent-1-backend-api,
agent-4-frontend-components, agent-5-frontend-services,
agent-3-frontend-pages, agent-7-docs
```

**é€£æºæ–¹æ³•**:
- **code-implementer** ãŒå…¨ä½“æ–¹é‡ã‚’æ±ºå®š
- **functional agents** ãŒä¸¦åˆ—ã§è©³ç´°å®Ÿè£…
- **code-reviewer** ãŒå…¨ä½“ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `.claude/agents/README.md` - æ©Ÿèƒ½é ˜åŸŸåˆ¥SubAgentï¼ˆagent-1ï½7ï¼‰
- `.claude/hooks/workflow-gates.json` - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼Hooksè¨­å®š
- `.claude/hooks/README.md` - Git Hooksï¼ˆpre-commitç­‰ï¼‰
- `CLAUDE.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“è¨­è¨ˆæŒ‡é‡

---

## ğŸ‰ ã“ã‚Œã§å®Œæˆï¼

**"äº‹æ•…ã‚‰ãªã„é–‹ç™ºãƒ¬ãƒ¼ãƒ³"**ãŒå®Œæˆã—ã¾ã—ãŸã€‚

ã™ã¹ã¦ã®ä½œæ¥­ã¯ï¼š
- âœ… SubAgent çµŒç”±ã§è¡Œã‚ã‚Œ
- âœ… ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒˆã‚’é€šéã—
- âœ… åˆ¤æ–­ãŒè¨¼è·¡ã¨ã—ã¦æ®‹ã‚‹

**å®‰å¿ƒã—ã¦é–‹ç™ºã‚’é€²ã‚ã¦ãã ã•ã„ï¼** ğŸš€

---

**ä½œæˆæ—¥**: 2026-01-24
**æœ€çµ‚æ›´æ–°**: 2026-01-24
