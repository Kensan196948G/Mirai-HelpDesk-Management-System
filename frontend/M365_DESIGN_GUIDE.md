# M365 UI デザインガイド

## 🎨 デザインシステム

このガイドは、Mirai HelpDesk Management System のM365管理UIのデザインシステムを定義します。
Microsoft Fluent Design System に準拠し、一貫性のある使いやすいインターフェースを提供します。

---

## 📐 レイアウトシステム

### グリッドシステム
```
Desktop (1200px+):
┌────────────────────────────────────────────────────────────┐
│  [12px]  [Card]  [24px]  [Card]  [24px]  [Card]  [12px]  │
│         ←─────→         ←─────→         ←─────→           │
│          33.3%           33.3%           33.3%             │
└────────────────────────────────────────────────────────────┘

Tablet (768px - 1199px):
┌────────────────────────────────────────┐
│  [12px]  [Card]  [24px]  [Card]  [12px]│
│         ←──────→        ←──────→       │
│           50%             50%           │
└────────────────────────────────────────┘

Mobile (< 768px):
┌────────────────────┐
│  [12px]  [Card]    │
│         ←─────→    │
│          100%      │
└────────────────────┘
```

### スペーシングスケール
```
Spacing Scale:
4px   ■
8px   ■■
12px  ■■■
16px  ■■■■
20px  ■■■■■
24px  ■■■■■■
32px  ■■■■■■■■
48px  ■■■■■■■■■■■■
```

---

## 🎨 カラーシステム

### プライマリカラー
```
Primary Blue (#0078d4)
┌──────────────────────────────────────────┐
│ ████████████████████████████████████████ │ Primary
│ ████████████████████████████████████████ │
└──────────────────────────────────────────┘
RGB: 0, 120, 212
HSL: 207°, 100%, 42%

使用箇所:
- アクションボタン
- リンク
- アクセントカラー
- アクティブ状態

Primary Hover (#106ebe)
┌──────────────────────────────────────────┐
│ ████████████████████████████████████████ │ Darker
│ ████████████████████████████████████████ │
└──────────────────────────────────────────┘
```

### ステータスカラー
```
Success (#107c10)
┌──────────────────────────────────────────┐
│ ████████████████████████████████████████ │ Green
└──────────────────────────────────────────┘
✓ 成功メッセージ
✓ 有効状態
✓ 完了状態

Warning (#ffaa44)
┌──────────────────────────────────────────┐
│ ████████████████████████████████████████ │ Orange
└──────────────────────────────────────────┘
⚠ 警告メッセージ
⚠ 注意が必要な状態
⚠ 80-94%の使用率

Error (#a4262c)
┌──────────────────────────────────────────┐
│ ████████████████████████████████████████ │ Red
└──────────────────────────────────────────┘
✖ エラーメッセージ
✖ 無効状態
✖ 95%+の使用率
```

### ニュートラルカラー
```
Text Colors:
#323130 ████████ Primary Text (濃い)
#605e5c ████████ Secondary Text (中間)
#8a8886 ████████ Muted Text (薄い)

Background Colors:
#ffffff ████████ White (カード)
#f8f9fa ████████ Light Gray (背景)
#f3f2f1 ████████ Lighter Gray (ホバー)

Border Colors:
#e1e4e8 ████████ Default Border
#edebe9 ████████ Subtle Border
```

---

## 🔤 タイポグラフィ

### フォントファミリー
```
Primary Font:
-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
'Helvetica Neue', Arial, sans-serif

Monospace Font:
'Consolas', 'Monaco', 'Courier New', monospace
```

### タイプスケール
```
H1 - ページタイトル
┌─────────────────────────────────┐
│  24px / 600 / 1.2 line-height   │
│  M365 ユーザー検索              │
└─────────────────────────────────┘

H2 - セクションタイトル
┌─────────────────────────────────┐
│  20px / 600 / 1.3 line-height   │
│  ライセンス利用状況             │
└─────────────────────────────────┘

H3 - カードタイトル
┌─────────────────────────────────┐
│  18px / 600 / 1.4 line-height   │
│  山田太郎                       │
└─────────────────────────────────┘

H4 - サブタイトル
┌─────────────────────────────────┐
│  16px / 600 / 1.4 line-height   │
│  基本情報                       │
└─────────────────────────────────┘

Body - 本文
┌─────────────────────────────────┐
│  14px / 400 / 1.5 line-height   │
│  これは本文テキストです。       │
└─────────────────────────────────┘

Small - 補助テキスト
┌─────────────────────────────────┐
│  12-13px / 400 / 1.4 line-height│
│  補助的な情報を表示します       │
└─────────────────────────────────┘
```

---

## 🎯 コンポーネント

### 1. ユーザーカード
```
┌─────────────────────────────────────────────┐
│  ┌───┐  山田太郎                    [有効]  │ ← Header
│  │ YT │  yamada@example.com                 │
│  └───┘                                      │
├─────────────────────────────────────────────┤
│  🏢 IT部門                                  │ ← Body
│  💼 エンジニア                              │
│  📧 yamada@example.com                      │
│  📱 090-1234-5678                           │
├─────────────────────────────────────────────┤
│  🔑 ライセンス                              │ ← Licenses
│  [Microsoft 365 E3] [Office 365 E5]         │
├─────────────────────────────────────────────┤
│  [👁 詳細]         [⚙️ 操作]              │ ← Footer
└─────────────────────────────────────────────┘

サイズ:
- Width: 380px (min)
- Padding: 20px
- Border Radius: 12px
- Box Shadow: 0 2px 4px rgba(0,0,0,0.05)

ホバー効果:
- Transform: translateY(-2px)
- Box Shadow: 0 8px 16px rgba(0,0,0,0.12)
```

### 2. ライセンスカード
```
┌─────────────────────────────────────────────┐
│  🔑  Microsoft 365 E3                       │ ← Header
│      フル機能のエンタープライズスイート      │
├─────────────────────────────────────────────┤
│  ┌──────────────────────────────────┐      │ ← Usage Stats
│  │  使用中: 45 | 利用可能: 5 | 合計: 50 │  │
│  └──────────────────────────────────┘      │
│                                             │
│  [■■■■■■■■■□] 90% [注意]           │ ← Progress Bar
│                                             │
│  ⚠️ 5ライセンスが停止中                    │ ← Warning (optional)
├─────────────────────────────────────────────┤
│  [👥 割り当て済みユーザー]                 │ ← Footer
└─────────────────────────────────────────────┘

プログレスバーの色:
  0-79%:  ████████ Blue   (正常)
 80-94%:  ████████ Orange (警告)
95-100%:  ████████ Red    (危機的)
```

### 3. 検索バー
```
┌─────────────────────────────────────────────────────────┐
│  🔍  [ユーザー名、メール、部署で検索...]          [×]  │
└─────────────────────────────────────────────────────────┘
      ↑                    ↑                          ↑
   アイコン            入力フィールド              クリアボタン

States:
Default:  Border: #e1e4e8
Focus:    Border: #0078d4 + Shadow: 0 0 0 3px rgba(0,120,212,0.1)
Error:    Border: #a4262c
```

### 4. ボタン
```
Primary Button
┌────────────────────┐
│  ⚙️  実行         │  ← Icon + Text
└────────────────────┘
Background: #0078d4
Hover: #106ebe
Text: White

Secondary Button
┌────────────────────┐
│  🔄  更新         │
└────────────────────┘
Background: #f3f2f1
Hover: #e1dfdd
Text: #323130

Ghost Button
┌────────────────────┐
│  👁  詳細         │
└────────────────────┘
Background: Transparent
Hover: #f3f2f1
Text: #323130

Small Button
┌──────────────┐
│  👁  詳細   │  ← Reduced padding
└──────────────┘
Padding: 4px 12px
Font: 13px
```

### 5. バッジ
```
Success
┌────────┐
│ ✓ 有効 │ Background: #dff6dd, Text: #107c10
└────────┘

Error
┌────────┐
│ ✖ 無効 │ Background: #fde7e9, Text: #a4262c
└────────┘

Warning
┌────────┐
│ ⚠ 警告 │ Background: #fff4e5, Text: #8a6d3b
└────────┘

Info
┌────────┐
│ ℹ 情報 │ Background: #e6f2ff, Text: #0078d4
└────────┘

Primary
┌──────────────┐
│ ライセンス付与│ Background: #0078d4, Text: White
└──────────────┘

Outline
┌────────────────┐
│ ライセンスなし │ Border: #e1e4e8, Background: Transparent
└────────────────┘
```

### 6. モーダル
```
┌─────────────────────────────────────────────────────────────┐
│ ███████████████████████████████████████████████████████████ │ ← Overlay
│ ██                                                       ██ │
│ ██  ┌────────────────────────────────────────────┐     ██ │
│ ██  │  M365操作確認                        [×]  │     ██ │ ← Header
│ ██  ├────────────────────────────────────────────┤     ██ │
│ ██  │                                            │     ██ │
│ ██  │  ⚠️ 以下のM365操作を実行します          │     ██ │ ← Body
│ ██  │                                            │     ██ │
│ ██  │  操作種別: [ライセンス付与]               │     ██ │
│ ██  │  対象ユーザー: user@example.com          │     ██ │
│ ██  │                                            │     ██ │
│ ██  ├────────────────────────────────────────────┤     ██ │
│ ██  │  [キャンセル]         [実行]             │     ██ │ ← Footer
│ ██  └────────────────────────────────────────────┘     ██ │
│ ██                                                       ██ │
│ ███████████████████████████████████████████████████████████ │
└─────────────────────────────────────────────────────────────┘

Sizes:
- Small:  400px
- Medium: 600px
- Large:  800px
- Full:   90% (max 1200px)

Animation:
- Fade In: 0.3s ease
- Slide Up: transform translateY(20px) → translateY(0)
```

### 7. トースト通知
```
Success Toast
┌──────────────────────────────────┐
│ ✓  操作が完了しました           │
└──────────────────────────────────┘
Position: Top Right
Animation: slideIn from right (0.3s)
Duration: 3 seconds
Border Left: 4px solid #107c10

Error Toast
┌──────────────────────────────────┐
│ ✖  エラーが発生しました         │
└──────────────────────────────────┘
Border Left: 4px solid #a4262c
```

### 8. アバター
```
Large (80px)
┌───────────┐
│           │
│    YT     │  ← Initials (32px)
│           │
└───────────┘

Default (48px)
┌───────┐
│       │
│  YT   │  ← Initials (18px)
│       │
└───────┘

Small (32px)
┌─────┐
│     │
│ YT  │  ← Initials (14px)
│     │
└─────┘

Background: Linear Gradient
from: #0078d4 (top-left)
to:   #106ebe (bottom-right)
Color: White
Border Radius: 50%
```

---

## 📱 レスポンシブデザイン

### ブレイクポイント
```
Mobile First Approach

Mobile (< 768px)
┌─────────────────────┐
│    [Full Width]     │
│    [Full Width]     │
│    [Full Width]     │
└─────────────────────┘
Grid: 1 column
Padding: 12px
Font: Base size

Tablet (768px - 1024px)
┌──────────────────────────────┐
│  [Half Width]  [Half Width]  │
│  [Half Width]  [Half Width]  │
└──────────────────────────────┘
Grid: 2 columns
Padding: 16px
Font: Base size

Desktop (1025px+)
┌─────────────────────────────────────┐
│  [33%]      [33%]       [33%]      │
│  [33%]      [33%]       [33%]      │
└─────────────────────────────────────┘
Grid: 3 columns
Padding: 24px
Font: Base size
```

---

## 🎭 インタラクション

### ホバーエフェクト
```
Button Hover:
  Before:  Background: #0078d4
  After:   Background: #106ebe
  Duration: 0.2s ease

Card Hover:
  Before:  Shadow: 0 2px 4px rgba(0,0,0,0.05)
           Transform: translateY(0)
  After:   Shadow: 0 8px 16px rgba(0,0,0,0.12)
           Transform: translateY(-2px)
  Duration: 0.3s ease

Link Hover:
  Before:  Color: #0078d4
  After:   Color: #106ebe
           Text-decoration: underline
  Duration: 0.2s ease
```

### フォーカスステート
```
Input Focus:
┌─────────────────────────────────────┐
│  [入力フィールド]                   │
└─────────────────────────────────────┘
     ↑
     └─── Border: 2px solid #0078d4
          Shadow: 0 0 0 3px rgba(0,120,212,0.1)
          Outline: none

Button Focus:
┌──────────┐
│  ボタン  │ ← Border: 2px solid #0078d4
└──────────┘     Shadow: 0 0 0 3px rgba(0,120,212,0.1)
```

### ローディング状態
```
Spinner Animation:
    ◜     ◝
      ●      Rotate 360° (1s linear infinite)
    ◟     ◞

Progress Bar Animation:
[■■■■■■■■□□] → [■■■■■■■■■□] → [■■■■■■■■■■]
Width: 0% → 100% (0.3s ease)
```

---

## ♿ アクセシビリティ

### カラーコントラスト
```
Text on White Background:
#323130 ████ AA (4.5:1) ✓
#605e5c ████ AA (4.5:1) ✓
#8a8886 ████ AA (3:1)  ⚠

White Text on Primary:
#ffffff on #0078d4 ✓ AAA (7:1)

Link Color:
#0078d4 on #ffffff ✓ AA (4.6:1)
```

### キーボードナビゲーション
```
Tab Order:
1. 検索バー         (Tab)
2. クリアボタン     (Tab)
3. ユーザーカード1   (Tab)
4. 詳細ボタン       (Tab)
5. 操作ボタン       (Tab)
6. ユーザーカード2   (Tab)
   ...

Focus Visible:
要素にフォーカスがある場合、必ず視覚的に表示
Border: 2px solid #0078d4
Shadow: 0 0 0 3px rgba(0,120,212,0.1)
```

### ARIA属性
```html
<!-- ボタン -->
<button aria-label="ユーザー詳細を表示">
    <i class="lucide-eye"></i>
</button>

<!-- 検索 -->
<input type="search"
       aria-label="ユーザー検索"
       placeholder="ユーザー名、メール、部署で検索">

<!-- ステータス -->
<span class="badge" aria-label="アカウント有効">
    有効
</span>

<!-- プログレスバー -->
<div role="progressbar"
     aria-valuenow="90"
     aria-valuemin="0"
     aria-valuemax="100">
    90%
</div>
```

---

## 🎬 アニメーション

### トランジション
```css
/* Fast (0.1-0.2s) */
- ボタンホバー
- リンクホバー
- フォーカス状態

/* Medium (0.3s) */
- カードホバー
- モーダル表示
- ページ遷移

/* Slow (0.5s+) */
- データロード
- 大きな要素の移動
```

### Easing Functions
```
ease:        デフォルト（汎用）
ease-in:     加速（開始時）
ease-out:    減速（終了時）
ease-in-out: 加速→減速（両端）
linear:      一定速度（ローディング）
```

---

## 📐 レイアウトパターン

### 1. リスト + 詳細パターン
```
┌─────────────────────────────────────────┐
│ [検索バー]                              │
├─────────────┬───────────────────────────┤
│ [リスト]    │  [詳細パネル]            │
│             │                           │
│ Item 1      │  ┌─────────────────────┐ │
│ Item 2  ←─→│  │  詳細情報           │ │
│ Item 3      │  │                     │ │
│ Item 4      │  └─────────────────────┘ │
│             │                           │
└─────────────┴───────────────────────────┘
```

### 2. カードグリッドパターン
```
┌─────────────────────────────────────────┐
│ [ヘッダー・フィルター]                  │
├───────────┬───────────┬─────────────────┤
│ [Card 1]  │ [Card 2]  │  [Card 3]       │
│           │           │                 │
├───────────┼───────────┼─────────────────┤
│ [Card 4]  │ [Card 5]  │  [Card 6]       │
│           │           │                 │
└───────────┴───────────┴─────────────────┘
```

### 3. モーダルオーバーレイパターン
```
┌─────────────────────────────────────────┐
│ [メインコンテンツ - Dimmed]             │
│   ┌─────────────────────────────┐       │
│   │  [モーダル]                 │       │
│   │                             │       │
│   │  Content                    │       │
│   │                             │       │
│   │  [Actions]                  │       │
│   └─────────────────────────────┘       │
└─────────────────────────────────────────┘
```

---

## 🔧 ベストプラクティス

### DO ✓
- Fluent Designのカラーパレットを使用する
- 一貫したスペーシングを保つ
- ホバーエフェクトを追加する
- アクセシビリティを考慮する
- レスポンシブデザインにする
- ローディング状態を表示する
- エラーメッセージをわかりやすく表示する

### DON'T ✗
- カスタムカラーを勝手に追加しない
- 不規則なスペーシングを使用しない
- アニメーションを使いすぎない
- 小さすぎるタッチターゲット（< 44px）
- コントラストの低いテキスト
- アクセシビリティを無視する
- 無意味な装飾を追加する

---

**作成日**: 2026-01-20
**バージョン**: 1.0.0
**デザインシステム**: Microsoft Fluent Design
